{% extends "base.html" %} {% block content %}
<div class="row">
  <div class="col-md-12">
    <h1>Weekly Progress</h1>
    <p class="text-muted">Your activity data grouped by week</p>
  </div>
</div>

<div class="row mt-4">
  <div class="col-md-12">
    {% if weekly_data %}
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Week</th>
            <th class="text-center">
              <i class="bi bi-activity"></i>
              Activities
            </th>
            <th class="text-end">
              <i class="bi bi-signpost"></i>
              Distance (km)
            </th>
            <th class="text-end">
              <i class="bi bi-mountain"></i>
              Elevation (m)
            </th>
            <th class="text-end">
              <i class="bi bi-clock"></i>
              Time (h)
            </th>
          </tr>
        </thead>
        <tbody>
          {% for week in weekly_data %}
          <tr>
            <td>{{ week.week }}</td>
            <td>{{ week.data.count }}</td>
            <td>{{ week.data.distance|floatformat:2 }}</td>
            <td>{{ week.data.elevation|floatformat:0 }}</td>
            <td>{{ week.data.time|floatformat:1 }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
      No weekly data available.
      <a href="{% url 'refresh_activities' %}"> Refresh your data </a>
      to load activities.
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
